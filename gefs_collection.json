{
  "id": "neon4cast-gefs",
  "type": "Collection",
  "links": [
    {
      "rel": "items",
      "type": "application/json",
      "href": "https://data.ecoforecast.org/neon4cast-forecasts//items.json"
    },
    {
      "rel": "parent",
      "type": "application/json",
      "href": "https://data.ecoforecast.org/neon4cast-forecasts/"
    },
    {
      "rel": "root",
      "type": "application/json",
      "href": "https://data.ecoforecast.org/neon4cast-forecasts/"
    },
    {
      "rel": "self",
      "type": "application/json",
      "href": "https://data.ecoforecast.org/neon4cast-forecasts/"
    },
    {
      "rel": "cite-as",
      "href": "https://doi.org/10.1002/fee.2616"
    },
    {
      "rel": "about",
      "href": "https://projects.ecoforecast.org/neon4cast-catalog/noaa-catalog.html",
      "type": "text/html",
      "title": "Organization Homepage"
    },
    {
      "rel": "license",
      "href": "https://creativecommons.org/publicdomain/zero/1.0/",
      "type": "text/html",
      "title": "public domain"
    },
    {
      "rel": "describedby",
      "href": "https://projects.ecoforecast.org/neon4cast-catalog/noaa-catalog.html",
      "title": "Example Notebook",
      "type": "text/html"
    }
  ],
  "title": "Ecological Forecasting Initiative - NOAA GEFS Forecast Snapshots",
  "assets": {
    "thumbnail": {
      "href": "https://data.ecoforecast.org/neon4cast-catalog/img/EFI_Logo-1.jpg",
      "type": "image/JPEG",
      "roles": [
        "thumbnail"
      ],
      "title": "EFI Logo"
    },
    "parquet_items": {
      "href": "https://sdsc.osn.xsede.org/bio230014-bucket01/noaa/gefs-v12/stage1/",
      "type": "application/x-parquet",
      "roles": [
        "stac-items"
      ],
      "title": "Parquet STAC Items",
      "description": "---\ntitle: \"stage1-parquet-description.Rmd\"\noutput: github_document\ndate: \"2023-04-24\"\n---\n\n### Quick access\n\nUse `arrow` for quick remote access to the database:\n\n```{r}\nlibrary(arrow)\nlibrary(glue)\ndate <- \"2020-09-24\"\ns3 <- s3_bucket(glue(\"bio230014-bucket01/neon4cast-drivers/noaa\",\n                       \"/gefs-v12/stage1/reference_datetime={date}\"),\n                endpoint_override = \"https://sdsc.osn.xsede.org\", \n                anonymous = TRUE)\nstage1 <- open_dataset(s3)\n```\n"
    }
  },
  "extent": {
    "spatial": {
      "bbox": [
        [
          -156.6194,
          17.9696,
          -66.7987,
          71.2824
        ]
      ]
    },
    "temporal": {
      "interval": [
        [
          "2017-01-01T00:00:00Z",
          "2023-04-24T00:00:00Z"
        ]
      ]
    }
  },
  "license": "CC0-1.0",
  "keywords": ["Forecasting", "Data", "Weather", "NOAA"],
  "providers": [
    {
      "url": "https://www.emc.ncep.noaa.gov/emc/pages/numerical_forecast_systems/gefs.php",
      "name": "NOAA GEFS",
      "roles": [
        "producer",
        "processor",
        "licensor"
      ]
    },
    {
      "url": "https://registry.opendata.aws/noaa-gefs/",
      "name": "AWS Open Data Registry",
      "roles": [
        "host"
      ]
    }
  ],
  "description": "\n# Snapshots of Global Ensemble Forecast System (GEFS) at NEON sites\n\nThe [Ecological Forecasting Initiative](https://ecoforecast.org) extracts\nand distributes the forecasts produced by NOAA's 35-day, 31-ensemble\nmember forecast system for [25 variables]() \nat surface-height for [81 NEON sites]().\n\n## Stage-1\n\n### Quick access\n\nUse `arrow` for quick remote access to the database:\n\n```{r}\nlibrary(arrow)\nlibrary(glue)\ndate <- \"2020-09-24\"\ns3 <- s3_bucket(glue(\"bio230014-bucket01/neon4cast-drivers/noaa\",\n                       \"/gefs-v12/stage1/reference_datetime={date}\"),\n                endpoint_override = \"https://sdsc.osn.xsede.org\", \n                anonymous = TRUE)\nstage1 <- open_dataset(s3)\n```\n\nUse `dplyr` commands to subset the desired data\n\n```{r}\nlibrary(dplyr)\nstage1 |> \n  filter(variable == \"TMP\",\n         site_id == \"BART\") |>\n  group_by(datetime) |>\n  summarise(temp = mean(prediction)) |>\n  collect() |> arrange(datetime)\n```\n\n\n### Summary\n\nForecasts are provided each day at midnight UTC.\nForecasts extend for a 35 day horizon.\nForecasts of the first 10 days (240 hours) use a 3 hr interval,\nwhile forecasts of the following 25 days use a 6 hr interval. \n\nPlease note that certain flux data, such as accumulated precipitation, are given for the 6-hr period prior to the `datetime` for horizons divisible by 6, and for a 3-hr period for others.\n\nStage-1 product comprises data produced under GEFS v11 and v12 models. \nForecasts issued prior to 2020-09-27 are generated by the GEFS v11 model, and include only day horizon and only 21 ensemble members.\nv11 data are provided in a separate endpoint to reduce potential data artefacts.\n\nAll data are provided as-is without guarantee of accuracy. Please\nconsult original data products and generation scripts for details.\n\n# Psuedo-measurement\n\n```r\nlibrary(arrow); library(dplyr)\ns3 <- s3_bucket(paste0(\"bio230014-bucket01/neon4cast-drivers/noaa\",\n                       \"/gefs-v12/pseudo\"),\n                endpoint_override = \"https://sdsc.osn.xsede.org\", \n                anonymous = TRUE)\npseudo <- open_dataset(s3)\n\n```\n",
  "stac_version": "1.0.0",
  "table_columns": [
    {
      "name": "reference_datetime",
      "description": "ISO 8601(ISO 2019) datetime the forecast starts from (a.k.a. issue time); Only needed if more than one reference_datetime is stored in a single file. Forecast lead time (horizon) is thus datetime minus reference_datetime.",
      "type": "string"
    },
    {
      "name": "site_id",
      "description": "For forecasts that are not on a spatial grid, use of a site dimension that maps to a more detailed geometry (points, polygons, etc.) is allowable. In general this would be documented in the external metadata (e.g., a look-up table that provides lon and lat);",
      "type": "string"
    },
    {
      "name": "family",
      "description": "probability distribution. sample trajectories may be denoted \"ensemble\" or \"sample,\".  NOAA summary statistics use \"spread\"",
      "type": "string"
    },
    {
      "name": "ensemble",
      "description": "ensemble member",
      "type": "string"
    },
    {
      "name": "variable",
      "description": "abbreviation for variable measured, see <https://github.com/eco4cast/gefs4cast/blob/main/inst/extdata/gefs-selected-bands.csv>",
      "type": "string"
    },
    {
      "name": "prediction",
      "description": "predicted forecast value for the variable specified",
      "type": "double"
    },
    {
      "name": "datetime",
      "description": "ISO 8601(ISO 2019) datetime being predicted. This variable was called time before v0.5 of the EFIconvention. For time-integrated variables (e.g., cumulative net primary productivity), one should specify the start_datetime and end_datetime as two variables, instead of the single datetime. If this is not provided the datetime is assumed to be the MIDPOINT of the integration period.",
      "type": "datetime"
    }
  ],
  "stac_extensions": [
    "https://stac-extensions.github.io/scientific/v1.0.0/schema.json",
    "https://stac-extensions.github.io/item-assets/v1.0.0/schema.json",
    "https://stac-extensions.github.io/table/v1.2.0/schema.json"
  ],
  "publications": {
    "doi": "https://doi.org/10.1002/fee.2616",
    "citation": "R Quinn Thomas, Carl Boettiger, Cayelan C Carey, Michael C Dietze, Leah R Johnson, Melissa A Kenney, Jason S McLachlan, Jody A Peters, Eric R Sokol, Jake F Weltzin, Alyssa Willson, Whitney M Woelmer, Challenge contributors"
  }
}
